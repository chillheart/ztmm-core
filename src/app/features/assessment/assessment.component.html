<div class="container py-5">
  <!-- Hero Section -->
  <div class="hero-section" [class.hero-collapsed]="selectedPillarId">
    <h1 class="hero-title" [class.hero-title-small]="selectedPillarId">Zero Trust Assessment</h1>
    <p class="hero-subtitle" [class.hero-subtitle-hidden]="selectedPillarId">
      Evaluate your organization's current implementation status against the Zero Trust Maturity Model.
      Use our streamlined assessment process with guided steps and visual progress tracking.
    </p>
  </div>

  <!-- Overall Progress Summary (show when no pillar is selected) -->
  <app-overall-progress-summary
    *ngIf="showOverallSummary && v2OverallProgress.length > 0"
    [overallPillarProgress]="v2OverallProgress"
    (pillarSelected)="onPillarSelected($event)">
  </app-overall-progress-summary>

  <!-- Assessment View -->
  <div *ngIf="selectedPillarId" class="card shadow-sm">
    <div class="card-body">
      <!-- Pillar Summary -->
      <app-pillar-summary
        *ngIf="!selectedFunctionCapabilityId"
        [pillarSummary]="pillarSummary"
        [selectedFunctionCapabilityId]="selectedFunctionCapabilityId"
        [selectedPillarName]="getSelectedPillarName()"
        (backToOverview)="goBackToOverallSummary()"
        (functionCapabilitySelected)="onFunctionCapabilitySelected($event)">
      </app-pillar-summary>

      <!-- V2 Assessment Overview -->
      <app-v2-assessment-overview
        *ngIf="selectedFunctionCapabilityId"
        [processTechnologyGroups]="processTechnologyGroups"
        [stageImplementations]="stageImplementations"
        [assessments]="v2Assessments"
        [functionCapabilities]="functionCapabilities"
        [selectedFunctionCapabilityName]="getSelectedFunctionCapabilityName()"
        [selectedFunctionCapabilityType]="getSelectedFunctionCapabilityType()"
        [isAutoSaving]="isAutoSaving"
        [showSuccess]="showSuccess"
        (assessmentUpdate)="onV2AssessmentUpdate($event)"
        (saveAll)="saveAllV2Assessments()">
      </app-v2-assessment-overview>
    </div>
  </div>
</div>

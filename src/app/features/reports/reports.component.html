<div class="container-fluid py-4" id="reports-container">
  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h1 class="mb-1">Assessment Reports</h1>
      <p class="text-muted mb-0">Analyze your Zero Trust maturity assessment results</p>
    </div>

    <!-- Export Component -->
    <app-report-export
      [isExporting]="isExportingDoc"
      [hasData]="hasData"
      (exportRequested)="onExportRequested($event)">
    </app-report-export>
  </div>

  <!-- Breadcrumb Navigation -->
  <app-reports-breadcrumb
    [currentView]="currentView"
    [selectedPillar]="selectedPillarSummary"
    [selectedFunction]="selectedFunctionSummary"
    (navigationRequested)="onNavigationRequested($event)">
  </app-reports-breadcrumb>

  <!-- Pillar Overview -->
  <div *ngIf="currentView === 'pillar-overview'" [@fadeInOut]>
    <app-pillar-overview
      [pillarSummaries]="pillarSummaries"
      (pillarSelected)="onPillarSelected($event)">
    </app-pillar-overview>
  </div>

  <!-- Pillar Detail View -->
  <div *ngIf="currentView === 'pillar-detail'" [@slideIn]>
    <app-pillar-detail
      [pillarSummary]="selectedPillarSummary"
      [selectedFunctionId]="selectedFunctionId"
      (functionSelected)="onFunctionSelected($event)">
    </app-pillar-detail>
  </div>

  <!-- Function Detail View -->
  <div *ngIf="currentView === 'function-detail'" [@slideIn]>
    <app-function-detail
      [functionSummary]="selectedFunctionSummary"
      [detailedItems]="selectedFunctionDetails"
      [showDescriptions]="showTechnologyDescriptions"
      (descriptionsToggled)="onDescriptionsToggled($event)">
    </app-function-detail>
  </div>
</div>
